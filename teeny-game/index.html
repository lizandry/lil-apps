<!DOCTYPE html>

<html>
  <head>
    <meta charset='utf-8'>
    <title>crossing game</title>
    <style type='text/css'>
      canvas {
        border:10px solid black;
        background-color: maroon;
      }
    
    </style>
  </head>

  <body>
    <h1>crossing game</h1>
    <canvas 
      id='myCanvas' 
      width='1400'
      height='500'
    >
    </canvas>
    <script type='text/javascript'>
      let canvas = document.getElementById('myCanvas')
      let ctx = canvas.getContext('2d')

      let screenWidth = canvas.width
      let screenHeight = canvas.clientHeight

      class GameCharacter {
        constructor(x, y, width, height, color, speed) {
          this.x = x;
          this.y = y;
          this.width = width;
          this.height = height;
          this.color = color;
          this.speed = speed;
        }
        moveVertically() {
          if (this.y > screenHeight -50 || this.y < 10) {
            this.speed = -this.speed;
          } 

          this.y += this.speed;
        }
        moveHorizontally() {
          if (this.x > screenWidth || this.x < 0) {
            this.speed = -this.speed;
          }

          this.x += this.speed;
        }
      }

      let player = new GameCharacter(
        50, 50, 50, 50, 'rgb(0, 0, 225)', 2
      );
      let rec2 = new GameCharacter(
        500, 50, 60, 40, '#000000', 2
      )
      let rec3 = new GameCharacter(
        screenWidth - 600, 400, 50, 70, 'rgb(255, 0, 0)', 4
      )

      let rec4 = new GameCharacter(
        275, 300, 100, 30, 'rgb(0, 225, 0)', 3
      )

      let enemies = [rec2, rec3, rec4]

      let draw = function() {
        ctx.clearRect(0, 0, screenWidth, screenHeight);

        ctx.fillStyle = player.color;
        ctx.fillRect(player.x, player.y, player.width, player.height);

        enemies.forEach(function(element) {
          ctx.fillStyle = element.color;
          ctx.fillRect(element.x, element.y, element.width, element.height)
        })
      }

      let update = function() {
        enemies.forEach(function(element) {
          element.moveVertically();
        })
        
      }


      let step = function() {
        update();
        draw();
        window.requestAnimationFrame(step)
      }
      step();


    </script>
  </body>
</html>